<!doctype html><html lang=fr dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Topologie des fermes SharePoint et déploiement de ForeFront Protection for SharePoint</title><meta name=author content="Vincent Biret"><meta name=description content="Parmi les cauchemars les plus effrayants des administrateurs système et réseau il y a celui de retrouver son système d’information infecté par un virus ou autre indésirable.
Le risque de stocker et de..."><meta name=generator content="Hugo 0.74.3"><meta itemprop=name content="Topologie des fermes SharePoint et déploiement de ForeFront Protection for SharePoint"><meta itemprop=description content="Parmi les cauchemars les plus effrayants des administrateurs système et réseau il y a celui de retrouver son système d’information infecté par un virus ou autre indésirable.
Le risque de stocker et de..."><meta itemprop=image content="/img/logo.svg"><meta property="og:title" content="Topologie des fermes SharePoint et déploiement de ForeFront Protection for SharePoint"><meta property="og:type" content="article"><meta property="og:url" content="https://baywet.github.io/fr/topologie-des-fermes-sharepoin/"><meta property="og:image" content="/img/logo.svg"><meta property="og:description" content="Parmi les cauchemars les plus effrayants des administrateurs système et réseau il y a celui de retrouver son système d’information infecté par un virus ou autre indésirable.
Le risque de stocker et de..."><meta property="og:site_name" content="Le blog de baywet"><meta property="og:updated_time" content="2020-09-05T13:58:36-04:00"><meta property="article:published_time" content="2011-03-02T17:09:00+00:00"><meta property="article:modified_time" content="2020-09-05T13:58:36-04:00"><meta property="article:section" content><meta property="article:tag" content="forefront"><meta property="article:tag" content="problèmatique"><meta property="article:tag" content="topologie"><meta property="article:tag" content="ferme"><meta property="article:tag" content="protection"><meta name=twitter:card content="summary"><meta name=twitter:site content><meta name=twitter:title content="Topologie des fermes SharePoint et déploiement de ForeFront Protection for SharePoint"><meta name=twitter:description content="Parmi les cauchemars les plus effrayants des administrateurs système et réseau il y a celui de retrouver son système d’information infecté par un virus ou autre indésirable.
Le risque de stocker et de..."><meta name=twitter:creator content><meta name=twitter:image:src content="/img/logo.svg"><link rel=stylesheet type=text/css href=/css/capsule.min.css><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-176061333-1','auto');ga('send','pageview');</script><link rel=apple-touch-icon href=/img/apple-touch-icon.png><link rel=icon href=/img/favicon.ico></head><body style=min-height:100vh;display:flex;flex-direction:column><nav class="navbar has-shadow is-white" role=navigation aria-label="main navigation"><div class=container><div class=navbar-brand><a class=navbar-item href=/fr><div class="title is-4">&nbsp;Le blog de baywet</div></a><label class="button navbar-burger is-white" for=navbar-burger-state><span></span><span></span><span></span></label></div><input type=checkbox id=navbar-burger-state><div class=navbar-menu><div class=navbar-end><a class=navbar-item href=/en>English</a></div></div></div></nav><section class=section style=flex:1><div class=container><p class=title>Topologie des fermes SharePoint et déploiement de ForeFront Protection for SharePoint</p><p class=subtitle>Mar 2, 2011</p><div class=content><p>Parmi les cauchemars les plus effrayants des administrateurs système et réseau il y a celui de retrouver son système d’information infecté par un virus ou autre indésirable.</p><p>Le risque de stocker et de propager des virus via SharePoint est assez élevé, en effet celui-ci stocke des documents en tous genre provenant sans distinction de stockages réseau, clefs usb, mails, disquettes ou autre pigeons voyageurs. Autant de vecteurs d’infection potentiels.</p><p>Et on le sait, toutes les entreprises sont loin d’avoir une protection complète sur l’ensemble de son système d’information, et même si c’était le cas, un utilisateur, malintentionné ou pas, trouvera toujours le moyen d’élever une bestiole de de la ramener au bureau.</p><p>La solution pour ne pas se retrouver avec des bases de données SharePoint corrompues (c’est un produit déjà assez compliqué, faudrait pas qu’on nous le casse en plus) et/ou pour ne pas se retrouver avec une ferme qui distribue des virus à qui en voudra est d’installer un antivirus capable d’interagir avec SharePoint.</p><p>Nous allons ici nous concentrer sur les solutions proposées par Microsoft : Microsoft ForeFront Protection for SharePoint 2010. Successeur de ForeFront Security for SharePoint.</p><p>Ce produit est capable de protéger des fermes en de génération 2007 ou 2010.</p><p>Nous allons passer sur la présentation générale du produit, car vous la trouverez facilement sur internet, pour en venir aux problématiques de topologie : sur quels serveurs de la ferme doit-on déployer FFPFS ? Car cela est simple sur une ferme avec un seul serveur mais pour les topologies plus complexes il y a matière à réflexion.</p><p>De manière à mieux appréhender la question nous allons prendre un peu de recul et voir comment FFPFS protège votre ferme. Cela se fait de deux manières différentes :</p><ul><li><p>Lors du transit des documents</p></li><li><p>Lorsqu’ils sont stockés, durant les analyses</p></li></ul><p>Lorsqu’un document est envoyé vers la ferme ou téléchargé par l’utilisateur depuis la ferme, ForeFront analyse ce document avec 5 moteurs d’analyse différents avant même qu’il arrive sur IIS et avant qu’il parte vers l’utilisateur.</p><p>Lors d’une analyse de contenu, le contenu de la ferme (application web par application web, librairie par libraire, document par document, pièce de document par pièce de document) est analysés, ces analyses peuvent être lancées manuellement et/ou planifiées, cependant elles sont très gourmandes, aussi évitez de les lancer pendant la période haute de votre activité.</p><p>Maintenant que l’on a compris comment FFPFS protège notre ferme nous sommes aptes à déterminer sur quels serveurs nous devons le déployer :</p><ul><li><p>Pour prévenir l’infection, l’analyse lors du transit, sur tous les serveurs frontaux de notre ferme</p></li><li><p>Pour les analyses du contenu, sur un serveur applicatif qui dispose de ressources, notez que ce « rôle » peut aussi être assuré par un des serveurs web frontaux</p></li></ul><p>Passons à un cas concret maintenant que la théorie est expliquée.</p><p>Dans le diagramme ci-dessous une communauté compte utiliser SharePoint pour son site, et publier ainsi toutes ses ressources. Ressources qui seront rédigées et uploadées par l’ensemble de ses membres dont la protection antivirus n’est pas assurée. Ressources qui seront consultées par un public assez varié sur internet et dont la protection antivirus n’est pas assurée non plus.</p><p>Aussi pour ne pas devenir une plateforme tournante de virus la ferme se doit d’intégrer une solution antivirus.</p><p>Pour ce qui est de la structure de la ferme le trafic web passe d’abord par un pare-feu (qui n’intègre pas de solution antivirus dans notre exemple) puis par un load balancer qui distribue la charge entre 3 serveurs web frontaux identiques. La ferme est aussi composée de deux serveurs SQL en miroir, d’un serveur d’indexation, un serveur de recherche ainsi qu’un serveur d’administration centrale +applicatif (service profil utilisateur…)</p><p><img src=./Ferme-labo.jpg alt=Ferme-labo.jpg></p><p>Comme vous le voyez la protection en temps réel est installée sur les trois serveurs frontaux, c’est le serveur applicatif qui quant à lui réalisera les analyses du contenu en base.</p><p>Précisions supplémentaires :</p><p>Il faut savoir que pour ce qui est du comportement des mises à jour des moteurs FFPFS se comporte comme ForeFront EndPoint. Ainsi sur des fermes de très très grosse taille d’autres problématiques entrent en jeu telles que l’optimisation du déploiement des mises à jour etc.</p><p>FFPFS reste personnalisable afin d’obtenir les meilleurs performances possibles pour votre topologie. Pour en savoir plus je vous conseille de regarder la vidéo suivante (anglais, 1H10) <a href="https://go.microsoft.com/?linkid=9748819">https://go.microsoft.com/?linkid=9748819</a></p><p>Pour en apprendre plus sur les problématiques liées au déploiement d’une protection antivirus globale pour une ferme SharePoint (du serveur mail, au client vers la ferme SharePoint en passant par les partages réseau)  je vous invite à consulter cette page ainsi qu’à vous documenter sur les autres produits de la gamme Forefront <a href=https://technet.microsoft.com/en-us/gg467338>https://technet.microsoft.com/en-us/gg467338</a></p><p>Bien sûr d’autres solutions que celles fournies par Microsoft existent pour protéger SharePoint, en voici quelques-unes :</p><p><a href=https://www.sophos.fr/products/enterprise/endpoint/security-and-control/sharepoint/>https://www.sophos.fr/products/enterprise/endpoint/security-and-control/sharepoint/</a></p><p><a href=https://www.avepoint.com/sharepoint-antivirus/>https://www.avepoint.com/sharepoint-antivirus/</a></p></div><br><p class=heading>Edité la dernière fois le
<a href=https://github.com/baywet/blogsource/commit/b3a3b09ed7503d8172da0dd6a4744736eb9c17fc>5 Sep 2020</a> par <a href=https://github.com/baywet>Vincent Biret</a></p><br><div class=heading>Tags:</div><div class="field is-grouped is-grouped-multiline"><div class=control><a href=/fr/tags/forefront><span class=tag>Forefront</span></a></div><div class=control><a href=/fr/tags/probl%c3%a8matique><span class=tag>Problèmatique</span></a></div><div class=control><a href=/fr/tags/topologie><span class=tag>Topologie</span></a></div><div class=control><a href=/fr/tags/ferme><span class=tag>Ferme</span></a></div><div class=control><a href=/fr/tags/protection><span class=tag>Protection</span></a></div><div class=control><a href=/fr/tags/antivirus><span class=tag>Antivirus</span></a></div><div class=control><a href=/fr/tags/sharepoint><span class=tag>Sharepoint</span></a></div></div></div></section><section class=section><div class=container><div class=level><div class=level-left><div class=level-item><p class="control has-addons"><a class=button href=https://baywet.github.io/fr/webconference-sur-la-securite/><span class="icon is-small"><i class="fa fa-chevron-left"></i></span><span class="is-hidden-touch is-hidden-desktop-only">WebConférence sur la sécurité avec la gamme ForeFront 2010</span>
<span class="is-hidden-touch is-hidden-widescreen">WebConférence sur la sécurité avec la gamme ForeFront 2010</span>
<span class="is-hidden-mobile is-hidden-desktop">WebConférence sur la sécurité avec la gamme...</span>
<span class=is-hidden-tablet>WebConférence sur la sécurité avec la...</span></a></p></div></div><div class=level-right><div class=level-item><p class="control has-addons"><a class=button href=https://baywet.github.io/fr/vue-densemble-des-services-de/><span class="is-hidden-touch is-hidden-desktop-only">Vue d’ensemble des services de conversion des documents dans SharePoint 2010</span>
<span class="is-hidden-touch is-hidden-widescreen">Vue d’ensemble des services de conversion des documents dans SharePoint...</span>
<span class="is-hidden-mobile is-hidden-desktop">Vue d’ensemble des services de conversion des...</span>
<span class=is-hidden-tablet>Vue d’ensemble des services de...</span>
<span class="icon is-small"><i class="fa fa-chevron-right"></i></span></a></p></div></div></div></div><br><br><div class=container><div id=disqus_thread></div><script>var disqus_config=function(){this.page.url="https://baywet.github.io/fr/topologie-des-fermes-sharepoin/";this.page.identifier=window.location.pathname;};(function(){var d=document,s=d.createElement('script');s.src='https://baywet.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div><br><div class=container><nav class=panel><p class=panel-heading>Related</p><a class=panel-block href=https://baywet.github.io/fr/vue-densemble-des-services-de/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Vue d’ensemble des services de conversion des documents dans SharePoint 2010&nbsp;<div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/requtage-active-directory-depu/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Requêtage Active Directory depuis SharePoint.&nbsp;<div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/feedback-msday-aix-en-provence/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Feedback MSDay Aix-En-Provence 30/09/10&nbsp;<div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/ajouter-un-nouvel-administrate/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Ajouter un nouvel administrateur de ferme SharePoint pouvant éxécuter la console PowerShell sans encombres&nbsp;<div class=tag>Ferme</div><div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/configuration-du-service-profi/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Configuration du service profil utilisateur sous SharePoint 2010/2007&nbsp;<div class=tag>Sharepoint</div></span></a></nav></div></section><footer class=footer><div class=container><nav class=level></nav><nav class=level><div class="level-left has-text-centered"><div class=level-item><form class="control has-icons has-icons-right" method=get action=https://bing.com><input class=input type=text name=q maxlength=255 placeholder=Search>
<input class=input type=hidden name=sites value=https://baywet.github.io/>
<span class="icon is-small is-right"><i class="fa fa-search"></i></span></form></div></div><div class="level-right has-text-centered"><div class=level-item><a class=button href=https://baywet.github.io/fr><span class=icon><i class="fa fa-home"></i></span></a>&nbsp;
<a class=button href><span class=icon><i class="fa fa-rss"></i></span></a></div></div></nav></div></footer><script id=dsq-count-scr src=//baywet.disqus.com/count.js async></script></body></html>