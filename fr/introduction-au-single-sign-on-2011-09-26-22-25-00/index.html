<!doctype html><html lang=fr dir=ltr itemscope itemtype=http://schema.org/Article><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Introduction au single sign on sur SharePoint 2010 - partie 5</title><meta name=author content="Vincent Biret"><meta name=description content="Partie précédente
SharePoint et le SSO : la pratique
Nous allons maintenant rapprocher la théorie des claims avec leur mise en pratique dans SharePoint en décortiquant ses composants pour mieux..."><meta name=generator content="Hugo 0.74.3"><meta itemprop=name content="Introduction au single sign on sur SharePoint 2010 - partie 5"><meta itemprop=description content="Partie précédente
SharePoint et le SSO : la pratique
Nous allons maintenant rapprocher la théorie des claims avec leur mise en pratique dans SharePoint en décortiquant ses composants pour mieux..."><meta itemprop=image content="/img/logo.svg"><meta property="og:title" content="Introduction au single sign on sur SharePoint 2010 - partie 5"><meta property="og:type" content="article"><meta property="og:url" content="https://baywet.github.io/fr/introduction-au-single-sign-on-2011-09-26-22-25-00/"><meta property="og:image" content="/img/logo.svg"><meta property="og:description" content="Partie précédente
SharePoint et le SSO : la pratique
Nous allons maintenant rapprocher la théorie des claims avec leur mise en pratique dans SharePoint en décortiquant ses composants pour mieux..."><meta property="og:site_name" content="Le blog de baywet"><meta property="og:updated_time" content="2020-09-05T10:38:32-04:00"><meta property="article:published_time" content="2011-09-26T22:25:00+00:00"><meta property="article:modified_time" content="2020-09-05T10:38:32-04:00"><meta property="article:section" content><meta property="article:tag" content="introduction"><meta property="article:tag" content="ssl"><meta property="article:tag" content="claims"><meta property="article:tag" content="sso"><meta property="article:tag" content="sharepoint"><meta name=twitter:card content="summary"><meta name=twitter:site content><meta name=twitter:title content="Introduction au single sign on sur SharePoint 2010 - partie 5"><meta name=twitter:description content="Partie précédente
SharePoint et le SSO : la pratique
Nous allons maintenant rapprocher la théorie des claims avec leur mise en pratique dans SharePoint en décortiquant ses composants pour mieux..."><meta name=twitter:creator content><meta name=twitter:image:src content="/img/logo.svg"><link rel=stylesheet type=text/css href=/css/capsule.min.css><script>(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-176061333-1','auto');ga('send','pageview');</script><link rel=apple-touch-icon href=/img/apple-touch-icon.png><link rel=icon href=/img/favicon.ico></head><body style=min-height:100vh;display:flex;flex-direction:column><nav class="navbar has-shadow is-white" role=navigation aria-label="main navigation"><div class=container><div class=navbar-brand><a class=navbar-item href=/fr><div class="title is-4">&nbsp;Le blog de baywet</div></a><label class="button navbar-burger is-white" for=navbar-burger-state><span></span><span></span><span></span></label></div><input type=checkbox id=navbar-burger-state><div class=navbar-menu><div class=navbar-end><a class=navbar-item href=/en>English</a></div></div></div></nav><section class=section style=flex:1><div class=container><p class=title>Introduction au single sign on sur SharePoint 2010 - partie 5</p><p class=subtitle>Sep 26, 2011</p><div class=content><p><a href=../introduction-au-single-sign-on-2011-09-26-22-29-00>Partie précédente</a></p><h1 id=sharepoint-et-le-sso-la-pratique>SharePoint et le SSO : la pratique</h1><p>Nous allons maintenant rapprocher la théorie des claims avec leur mise en pratique dans SharePoint en décortiquant ses composants pour mieux comprendre comment SharePoint vient s’articuler avec AD FS.</p><p>1)      Les Applications de Service</p><p>Petit rappel, vous vous souvenez qu’au début de cette série j’évoquais  deux types de SSO : inter-web app et accès à une ressource. Nous traitons dans cette série du premier cas de figure, mais sachez que le Secure Store Service Application sert à stocker/paramétrer des credentials et/ou des transmissions de credentials pour accéder à des ressources externes depuis SharePoint sans avoir à se reloguer.</p><p>Revenons au vif du sujet, le SSO entre Web Apps. La <strong>S</strong>ecurity <strong>T</strong>oken <strong>S</strong>ervice Application sert quant à elle de RP-STS, ou du moins partiellement. Elle va permettre de centraliser et d’unifier les communications et les configurations des/avec les IP-STS. Elle matérialise essentiellement tout ce qui est information à propos des fournisseurs d’authentification.</p><p>Puisque nous sommes encore dans les applications de service et pour éviter toute confusion, vous n’êtes pas sans savoir qu’il existe deux autres applications de service :</p><ul><li><p>State Service : (et son proxy) permet de faciliter les communications et transmissions de données entre les différentes WebApp, base de données. Elle est également obligatoire pour faire fonctionner les forms services.</p></li><li><p>Session State Service : (Non activé et caché par défaut) permet la transition de données de sessions entre plusieurs instances d’une même WebApp (topologies à plusieurs serveurs frontaux) et pour certaines solutions spécifiques.</p></li></ul><p>Ces deux briques ne sont pas des éléments indispensables pour pouvoir faire du SSO sur SharePoint mais peuvent rapidement être nécessaire pour d’autres briques Sharepoint. Pour plus de détails sur le SharePoint Session State : <a href=https://blogs.msdn.com/b/markarend/archive/2010/05/27/using-session-state-in-sharepoint-2010.aspx>https://blogs.msdn.com/b/markarend/archive/2010/05/27/using-session-state-in-sharepoint-2010.aspx</a></p><p>2)      Les services</p><p>En termes de services Windows, nous en avons deux à disposition :</p><ul><li><p>Le Secure Store Service (qui porte la service app du même nom)</p></li><li><p>Le « Claims to Windows Token Service » qui permet la conversion des jetons de revendications en jetons NTLM lorsqu’un utilisateur connecté sur une web app en claims accède à une ressource qui ne gère pas le NTLM (Exemple : dans le cadre d’une liste externe)</p></li></ul><p>Aucun de ces deux services n’est obligatoire dans le cadre de notre « simple » SSO inter web app.</p><p>3)      Les web apps</p><p>Enfin les web apps SharePoint constituent la deuxième partie du RP-STS. C’est d’ailleurs l’utilisation du répertoire virtuel /_trust/  qui permet la récupération du jeton lors du rappel de l’IP-STS.</p><p>4)      Récapitulatif</p><p>En résumé pour faire fonctionner notre SSO inter web app sur SharePoint nous avons besoin :</p><ul><li>D’une (ou plusieurs) web app configurée en mode claims</li></ul><p>-D’une application de service Secure Token Service démarrée</p><ul><li><p>D’un service AD FS fonctionnel avec la base d’identification correctement configurée et un (ou plusieurs, un par web app) RP-STS configuré</p></li><li><p>D’un certificat HTTPS/SSL valide par web app + 1 certificat pour la web app qui porte le IP-STS</p></li><li><p>D’une IP par web app qui fera partie du SSO + 1 pour l’IP-STS (contrainte due à la manière dont IIS gère le SSL dans ses bindings)</p></li><li><p>D’un ou plusieurs fournisseur d’authentification configurés côté SharePoint (dans notre cas un seul avec un domaine d’identification par web app)</p></li></ul><p><a href=../introduction-au-single-sign-on-2011-09-26-22-29-00>Suite ici</a></p></div><br><p class=heading>Edité la dernière fois le
<a href=https://github.com/baywet/blogsource/commit/f5dc8541f1028b123b0669de44c5a86a1bf7f7e1>5 Sep 2020</a> par <a href=https://github.com/baywet>Vincent Biret</a></p><br><div class=heading>Tags:</div><div class="field is-grouped is-grouped-multiline"><div class=control><a href=/fr/tags/introduction><span class=tag>Introduction</span></a></div><div class=control><a href=/fr/tags/ssl><span class=tag>Ssl</span></a></div><div class=control><a href=/fr/tags/claims><span class=tag>Claims</span></a></div><div class=control><a href=/fr/tags/sso><span class=tag>Sso</span></a></div><div class=control><a href=/fr/tags/sharepoint><span class=tag>Sharepoint</span></a></div></div></div></section><section class=section><div class=container><div class=level><div class=level-left><div class=level-item><p class="control has-addons"><a class=button href=https://baywet.github.io/fr/introduction-au-single-sign-on-2011-09-26-22-26-00/><span class="icon is-small"><i class="fa fa-chevron-left"></i></span><span class="is-hidden-touch is-hidden-desktop-only">Introduction au single sign on sur SharePoint 2010 - partie 6</span>
<span class="is-hidden-touch is-hidden-widescreen">Introduction au single sign on sur SharePoint 2010 - partie 6</span>
<span class="is-hidden-mobile is-hidden-desktop">Introduction au single sign on sur SharePoint 2010...</span>
<span class=is-hidden-tablet>Introduction au single sign on sur...</span></a></p></div></div><div class=level-right><div class=level-item><p class="control has-addons"><a class=button href=https://baywet.github.io/fr/introduction-au-single-sign-on-2011-09-26-22-23-00/><span class="is-hidden-touch is-hidden-desktop-only">Introduction au single sign on sur SharePoint 2010 - partie 4</span>
<span class="is-hidden-touch is-hidden-widescreen">Introduction au single sign on sur SharePoint 2010 - partie 4</span>
<span class="is-hidden-mobile is-hidden-desktop">Introduction au single sign on sur SharePoint 2010...</span>
<span class=is-hidden-tablet>Introduction au single sign on sur...</span>
<span class="icon is-small"><i class="fa fa-chevron-right"></i></span></a></p></div></div></div></div><br><br><div class=container><div id=disqus_thread></div><script>var disqus_config=function(){this.page.url="https://baywet.github.io/fr/introduction-au-single-sign-on-2011-09-26-22-25-00/";this.page.identifier=window.location.pathname;};(function(){var d=document,s=d.createElement('script');s.src='https://baywet.disqus.com/embed.js';s.setAttribute('data-timestamp',+new Date());(d.head||d.body).appendChild(s);})();</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div><br><div class=container><nav class=panel><p class=panel-heading>Related</p><a class=panel-block href=https://baywet.github.io/fr/introduction-au-single-sign-on-2011-09-26-22-23-00/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Introduction au single sign on sur SharePoint 2010 - partie 4&nbsp;<div class=tag>Introduction</div><div class=tag>Ssl</div><div class=tag>Claims</div><div class=tag>Sso</div><div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/introduction-au-single-sign-on-2011-09-26-22-22-00/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Introduction au single sign on sur SharePoint 2010 - partie 3&nbsp;<div class=tag>Introduction</div><div class=tag>Ssl</div><div class=tag>Sso</div><div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/introduction-au-single-sign-on-2011-09-26-22-21-00/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Introduction au single sign on sur SharePoint 2010 - partie 2&nbsp;<div class=tag>Introduction</div><div class=tag>Ssl</div><div class=tag>Sso</div><div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/introduction-au-single-sign-on-2011-09-26-22-18-00/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Introduction au single sign on sur SharePoint 2010 - partie 1&nbsp;<div class=tag>Introduction</div><div class=tag>Ssl</div><div class=tag>Claims</div><div class=tag>Sso</div><div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/reconduite-de-mon-titre-msp/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Reconduite de mon titre MSP&nbsp;<div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/uploader-automatiquement-les-p/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Uploader automatiquement les photos des utilisateurs SharePoint sur leur profil en PowerShell&nbsp;<div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/upgrade-des-bases-de-donnees-m/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Upgrade des bases de données mirrorées avec le SP1 de SharePoint&nbsp;<div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/re-realease-de-la-mise-a-jour/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Re-Realease de la mise à jour cumulative de Juin (CU1 June)&nbsp;<div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/industrialisation-des-installa-2011-07-06-16-42-00/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Industrialisation des installations de ferme SharePoint 2010(CU, SP, Langues, SlipStream) Part 3&nbsp;<div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/industrialisation-des-installa-2011-07-06-16-11-00/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Industrialisation des installations de ferme SharePoint 2010(CU, SP, Langues, SlipStream) Part 2&nbsp;<div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/industrialisation-des-installa-2011-07-06-15-47-00/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Industrialisation des installations de ferme SharePoint 2010(CU, SP, Langues, SlipStream) Part 1&nbsp;<div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/sp1-pour-sharepoint-2010/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>SP1 pour SharePoint 2010&nbsp;<div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/mirroring-sql-et-sharepoint-t/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Mirroring SQL et SharePoint : Tips & Piège&nbsp;<div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/webconference-sur-la-securite/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>WebConférence sur la sécurité avec la gamme ForeFront 2010&nbsp;<div class=tag>Sharepoint</div></span></a><a class=panel-block href=https://baywet.github.io/fr/topologie-des-fermes-sharepoin/><span class="icon is-small"><i class="fa fa-chevron-right"></i></span><span>&nbsp;</span>
<span>Topologie des fermes SharePoint et déploiement de ForeFront Protection for SharePoint&nbsp;<div class=tag>Sharepoint</div></span></a></nav></div></section><footer class=footer><div class=container><nav class=level></nav><nav class=level><div class="level-left has-text-centered"><div class=level-item><form class="control has-icons has-icons-right" method=get action=https://bing.com><input class=input type=text name=q maxlength=255 placeholder=Search>
<input class=input type=hidden name=sites value=https://baywet.github.io/>
<span class="icon is-small is-right"><i class="fa fa-search"></i></span></form></div></div><div class="level-right has-text-centered"><div class=level-item><a class=button href=https://baywet.github.io/fr><span class=icon><i class="fa fa-home"></i></span></a>&nbsp;
<a class=button href><span class=icon><i class="fa fa-rss"></i></span></a></div></div></nav></div></footer><script id=dsq-count-scr src=//baywet.disqus.com/count.js async></script></body></html>