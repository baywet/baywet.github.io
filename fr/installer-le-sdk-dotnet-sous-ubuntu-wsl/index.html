<!doctype html><html lang=fr dir=ltr itemscope itemtype=https://schema.org/Article><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Installer le SDK dotnet sous Ubuntu WSL</title><meta name=author content="Vincent Biret"><meta name=description content="Introduction
Au cours des derniers mois, j’ai eu du mal à obtenir une installation fonctionnelle du SDK dotnet sur Ubuntu exécuté sur Windows Subsystems pour Linux (WSL). Cela est en partie dû au fait..."><meta name=generator content="Hugo 0.115.2"><meta itemprop=name content="Installer le SDK dotnet sous Ubuntu WSL"><meta itemprop=description content="Introduction
Au cours des derniers mois, j’ai eu du mal à obtenir une installation fonctionnelle du SDK dotnet sur Ubuntu exécuté sur Windows Subsystems pour Linux (WSL). Cela est en partie dû au fait..."><meta itemprop=image content="/img/logo.svg"><meta property="og:title" content="Installer le SDK dotnet sous Ubuntu WSL"><meta property="og:type" content="article"><meta property="og:url" content="https://baywet.github.io/fr/installer-le-sdk-dotnet-sous-ubuntu-wsl/"><meta property="og:image" content="/img/logo.svg"><meta property="og:description" content="Introduction
Au cours des derniers mois, j’ai eu du mal à obtenir une installation fonctionnelle du SDK dotnet sur Ubuntu exécuté sur Windows Subsystems pour Linux (WSL). Cela est en partie dû au fait..."><meta property="og:site_name" content="Le blog de baywet"><meta property="og:updated_time" content="2023-07-10T13:54:46-04:00"><meta property="article:published_time" content="2023-07-10T15:00:00+00:00"><meta property="article:modified_time" content="2023-07-10T13:54:46-04:00"><meta property="article:section" content><meta property="article:tag" content="wsl"><meta property="article:tag" content="dotnet"><meta property="article:tag" content="ubuntu"><meta name=twitter:card content="summary"><meta name=twitter:site content><meta name=twitter:title content="Installer le SDK dotnet sous Ubuntu WSL"><meta name=twitter:description content="Introduction
Au cours des derniers mois, j’ai eu du mal à obtenir une installation fonctionnelle du SDK dotnet sur Ubuntu exécuté sur Windows Subsystems pour Linux (WSL). Cela est en partie dû au fait..."><meta name=twitter:creator content><meta name=twitter:image:src content="/img/logo.svg"><link rel=stylesheet type=text/css href=/css/capsule.min.css><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-176061333-1","auto"),ga("send","pageview")</script><link rel=apple-touch-icon href=/img/apple-touch-icon.png><link rel=icon href=/img/favicon.ico></head><body style=min-height:100vh;display:flex;flex-direction:column><nav class="navbar has-shadow is-white" role=navigation aria-label="main navigation"><div class=container><div class=navbar-brand><a class=navbar-item href=/fr><div class="title is-4">&nbsp;Le blog de baywet</div></a><label class="button navbar-burger is-white" for=navbar-burger-state><span></span>
<span></span>
<span></span></label></div><input type=checkbox id=navbar-burger-state><div class=navbar-menu><div class=navbar-end><a class=navbar-item href=https://baywet.github.io/installing-dotnet-sdk-wsl-ubuntu/>English</a></div></div></div></nav><section class=section style=flex:1><div class=container><h1 class=title>Installer le SDK dotnet sous Ubuntu WSL</h1><p class=subtitle>Jul 10, 2023</p><div class=content><h2 id=introduction>Introduction</h2><p>Au cours des derniers mois, j’ai eu du mal à obtenir une installation fonctionnelle du SDK dotnet sur Ubuntu exécuté sur Windows Subsystems pour Linux (WSL). Cela est en partie dû au fait que de nouvelles méthodes d’installation ont été ajoutées au fil des ans, d’autres ont été rendues obsolètes, et il est vraiment facile d&rsquo;involontairement <em>mettre à jour</em> d’une méthode d’installation à une autre, en désorganisant tout par la même occasion.</p><p><a href=https://learn.microsoft.com/en-us/dotnet/core/install/linux-ubuntu>La documentation sur le sujet</a> suggère les méthodes suivantes en ce moment:</p><ul><li>Flux de paquets (Canonical)</li><li>Flux de paquets (Microsoft)</li><li>Script</li></ul><p>Et ne mentionne pas snap (de toute façon indisponible sur WSL). L’option du flux de paquets Canonical a l’inconvénient majeur de ne pas avoir toutes les versions de correctifs, et l’option de script ne met pas à jour le SDK avec les autres paquets. Il me semble naturel que tout le monde souhaite utiliser le flux de paquets Microsoft, mais les scripts fournis ne sont que partiels et conduisent souvent à un état corrompu.</p><h2 id=solution>Solution</h2><p>Afin de <em>correctement</em> installer le SDK depuis le flux Microsoft, voici les étapes que je suis.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span><span style=color:#75715e># source https://learn.microsoft.com/en-us/dotnet/core/install/linux-package-mixup?pivots=os-linux-ubuntu#i-need-a-version-of-net-that-isnt-provided-by-my-linux-distribution</span>
</span></span><span style=display:flex><span><span style=color:#75715e># remove pre-existing packages</span>
</span></span><span style=display:flex><span>sudo apt remove <span style=color:#e6db74>&#39;dotnet*&#39;</span> <span style=color:#e6db74>&#39;aspnet*&#39;</span> <span style=color:#e6db74>&#39;netstandard*&#39;</span>
</span></span><span style=display:flex><span><span style=color:#75715e># set the default ubuntu package feed as low priority for dotnet packages so they don&#39;t conflict</span>
</span></span><span style=display:flex><span>echo -e <span style=color:#e6db74>&#34;Package: dotnet* aspnet* netstandard*\nPin: origin \&#34;archive.ubuntu.com\&#34;\nPin-Priority: -10&#34;</span> | sudo dd of<span style=color:#f92672>=</span>/etc/apt/preferences oflag<span style=color:#f92672>=</span>append conv<span style=color:#f92672>=</span>notrunc
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># source https://learn.microsoft.com/en-us/dotnet/core/install/linux-ubuntu#register-the-microsoft-package-repository</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Get Ubuntu version</span>
</span></span><span style=display:flex><span>declare repo_version<span style=color:#f92672>=</span><span style=color:#66d9ef>$(if</span> command -v lsb_release &amp;&gt; /dev/null; <span style=color:#66d9ef>then</span> lsb_release -r -s; <span style=color:#66d9ef>else</span> grep -oP <span style=color:#e6db74>&#39;(?&lt;=^VERSION_ID=).+&#39;</span> /etc/os-release | tr -d <span style=color:#e6db74>&#39;&#34;&#39;</span>; <span style=color:#66d9ef>fi)</span>
</span></span><span style=display:flex><span><span style=color:#75715e># Download Microsoft signing key and repository</span>
</span></span><span style=display:flex><span>wget https://packages.microsoft.com/config/ubuntu/$repo_version/packages-microsoft-prod.deb -O packages-microsoft-prod.deb
</span></span><span style=display:flex><span><span style=color:#75715e># Install Microsoft signing key and repository</span>
</span></span><span style=display:flex><span>sudo dpkg -i packages-microsoft-prod.deb
</span></span><span style=display:flex><span><span style=color:#75715e># Clean up</span>
</span></span><span style=display:flex><span>rm packages-microsoft-prod.deb
</span></span><span style=display:flex><span><span style=color:#75715e># Update packages</span>
</span></span><span style=display:flex><span>sudo apt update
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#75715e># install dotnet sdk (you can change the version to what you&#39;d like)</span>
</span></span><span style=display:flex><span>sudo apt-get install dotnet-sdk-7.0
</span></span></code></pre></div></div><br><p class=heading>Edité la dernière fois le
<a href=https://github.com/baywet/blogsource/commit/ff68ee4caf4356e64b0255953aa4f46c5d9f8414>10 Jul 2023</a> par <a href=https://github.com/baywet>Vincent Biret</a></p><br><div class=heading>Tags:</div><div class="field is-grouped is-grouped-multiline"><div class=control><a href=/fr/tags/wsl><span class=tag>Wsl</span></a></div><div class=control><a href=/fr/tags/dotnet><span class=tag>Dotnet</span></a></div><div class=control><a href=/fr/tags/ubuntu><span class=tag>Ubuntu</span></a></div></div></div></section><section class=section><div class=container><div class=level><div class=level-left><div class=level-item><p class="control has-addons"><a class=button href=# disabled><span class="icon is-small"><i class="fa fa-chevron-left"></i></span>
<span>Newest</span></a></p></div></div><div class=level-right><div class=level-item><p class="control has-addons"><a class=button href=https://baywet.github.io/fr/livrer-un-produit-chez-microsoft/><span class="is-hidden-touch is-hidden-desktop-only">Livrer un produit chez Microsoft: Kiota</span>
<span class="is-hidden-touch is-hidden-widescreen">Livrer un produit chez Microsoft: Kiota</span>
<span class="is-hidden-mobile is-hidden-desktop">Livrer un produit chez Microsoft: Kiota</span>
<span class=is-hidden-tablet>Livrer un produit chez Microsoft: Kiota</span>
<span class="icon is-small"><i class="fa fa-chevron-right"></i></span></a></p></div></div></div></div><br><br><div class=container><div id=disqus_thread></div><script>var disqus_config=function(){this.page.url="https://baywet.github.io/fr/installer-le-sdk-dotnet-sous-ubuntu-wsl/",this.page.identifier=window.location.pathname};(function(){var e=document,t=e.createElement("script");t.src="https://baywet.disqus.com/embed.js",t.setAttribute("data-timestamp",+new Date),(e.head||e.body).appendChild(t)})()</script><noscript>Please enable JavaScript to view the <a href=https://disqus.com/?ref_noscript>comments powered by Disqus.</a></noscript></div><br></section><footer class=footer><div class=container><nav class=level></nav><nav class=level><div class="level-left has-text-centered"><div class=level-item><form class="control has-icons has-icons-right" method=get action=https://bing.com><input class=input type=text name=q maxlength=255 placeholder=Search>
<input class=input type=hidden name=sites value=https://baywet.github.io/>
<span class="icon is-small is-right"><i class="fa fa-search"></i></span></form></div></div><div class="level-right has-text-centered"><div class=level-item><a class=button href=https://baywet.github.io/fr><span class=icon><i class="fa fa-home"></i></span></a> &nbsp;
<a class=button href><span class=icon><i class="fa fa-rss"></i></span></a></div></div></nav></div></footer><script id=dsq-count-scr src=//baywet.disqus.com/count.js async></script></body></html>