<!doctype html><html lang=fr dir=ltr itemscope itemtype=https://schema.org/Article><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1"><title>Le blog de baywet</title>
<meta name=author content="Vincent Biret"><meta name=description content><meta name=generator content="Hugo 0.124.1"><meta itemprop=name content="Le blog de baywet"><meta itemprop=description content><meta itemprop=image content="/img/logo.svg"><meta property="og:title" content="Le blog de baywet"><meta property="og:type" content="website"><meta property="og:url" content="https://baywet.github.io/fr/"><meta property="og:image" content="/img/logo.svg"><meta property="og:description" content><meta property="og:site_name" content="Le blog de baywet"><meta property="article:section" content><meta name=twitter:card content="summary"><meta name=twitter:site content><meta name=twitter:title content="Le blog de baywet"><meta name=twitter:description content><meta name=twitter:creator content><meta name=twitter:image:src content="/img/logo.svg"><link rel=alternate type=application/rss+xml href=https://baywet.github.io/fr/index.xml title="Le blog de baywet"><script src=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/js/all.js integrity=sha384-IkmLcEDxkvCioiswmdraONwAU9uwbPWUbvuHAGrejK3zNlL74FCwCjvnTGJcrdbQ crossorigin=anonymous></script><link rel=stylesheet type=text/css href=/css/capsule.min.css><script>(function(e,t,n,s,o,i,a){e.GoogleAnalyticsObject=o,e[o]=e[o]||function(){(e[o].q=e[o].q||[]).push(arguments)},e[o].l=1*new Date,i=t.createElement(n),a=t.getElementsByTagName(n)[0],i.async=1,i.src=s,a.parentNode.insertBefore(i,a)})(window,document,"script","https://www.google-analytics.com/analytics.js","ga"),ga("create","UA-176061333-1","auto"),ga("send","pageview")</script><link rel=apple-touch-icon href=/img/apple-touch-icon.png><link rel=icon href=/img/favicon.ico></head><body style=min-height:100vh;display:flex;flex-direction:column><section class="hero is-dark is-medium"><div class=hero-head><nav class="navbar has-shadow" role=navigation aria-label="main navigation"><div class=container><div class=navbar-brand><a class=navbar-item href=/fr/><div class="title is-4">&nbsp;Le blog de baywet</div></a><label role=button class="navbar-burger has-text-light" aria-label=menu aria-expanded=false for=navbar-burger-state><span aria-hidden=true></span>
<span aria-hidden=true></span>
<span aria-hidden=true></span></label></div><input type=checkbox id=navbar-burger-state><div class=navbar-menu><div class=navbar-end><a class=navbar-item href=https://baywet.github.io/>English</a></div></div></div></nav></div></section><section class=section style=flex:1><div class=container><div class=columns><div class=column><div style=min-height:56vh><article class=media><div class=media-content><p class="title is-4"><a href=https://baywet.github.io/fr/determinez-votre-dette-techniq-2016-11-28-14-00-00/>Déterminez votre dette technique à l’aide de SonarQube : 12 - Contrôle des résultats</a></p><p class="subtitle is-6 mb-2"><span class="icon is-small"><i class="far fa-calendar-alt"></i></span>
<span class=mr-2>Nov 28, 2016</span>
<span class="icon is-small"><i class="far fa-clock"></i></span>
<span>1 min.</span></p><div class=content>TL ; DR Les erreurs d’analyse statique vont apparaitre comme des warnings dans la section compilation. Un badge d’état de l’analyse statique va apparaitre sur la page de rapport de la build et vous aurez des résultats visibles dans SonarQube.
Résultats affichés avec la build Lorsque vous lancez une build au résultat vous trouverez un encart supplémentaire pointant vers les résultats de l’analyse statique
Résultats visibles dans SonarQube Sur votre instance de SonarQube vous trouverez des résultats d’analyse qui indiqueront la progression ou la regression du code.</div></div></article><article class=media><div class=media-content><p class="title is-4"><a href=https://baywet.github.io/fr/determinez-votre-dette-techniq-2016-11-25-14-00-00/>Déterminez votre dette technique à l’aide de SonarQube : 12 - Mise à jour de votre définition de build</a></p><p class="subtitle is-6 mb-2"><span class="icon is-small"><i class="far fa-calendar-alt"></i></span>
<span class=mr-2>Nov 25, 2016</span>
<span class="icon is-small"><i class="far fa-clock"></i></span>
<span>2 min.</span></p><div class=content>TL ; DR L’analyse statique va s’effectuer au moment où vous buildez votre projet. Notez que pour le moment seule une intégration avec msbuild (la tâche Visual Studio Build) existe.
Si vous buildez des projets avec node/npm ou autres, il est possible que la configuration requise soit différente ainsi que les outils (tâches gulp par exemple).
Ajout des tâches à la définition Nous partirons du principe que vous avez déjà une build 2015 en place</div></div></article><article class=media><div class=media-content><p class="title is-4"><a href=https://baywet.github.io/fr/determinez-votre-dette-techniq-2016-11-23-14-00-00/>Déterminez votre dette technique à l’aide de SonarQube : 11 - Ajout du projet SonarQube</a></p><p class="subtitle is-6 mb-2"><span class="icon is-small"><i class="far fa-calendar-alt"></i></span>
<span class=mr-2>Nov 23, 2016</span>
<span class="icon is-small"><i class="far fa-clock"></i></span>
<span>1 min.</span></p><div class=content>TL ; DR SonarQube a une notion de projet d’analyse. Ces projets vont regrouper les résultats d’analyse de votre code. Vous pouvez configurer un projet par dépôt de code ou même par branche pour avoir des deltas d’analyse différents. (ex ma master build tous les mois, je veux voir l’évolution au par mois et ma dev tous les jours donc je veux voir l’évolution tous les jours).
Ajout du projet Pour cela rendez-vous dans « configuration » -> « Projects » -> « Management » puis « create project »</div></div></article><article class=media><div class=media-content><p class="title is-4"><a href=https://baywet.github.io/fr/determinez-votre-dette-techniq-2016-11-21-14-00-00/>Déterminez votre dette technique à l’aide de SonarQube : 10 - Création d’un compte de service et référencement dans VSTS</a></p><p class="subtitle is-6 mb-2"><span class="icon is-small"><i class="far fa-calendar-alt"></i></span>
<span class=mr-2>Nov 21, 2016</span>
<span class="icon is-small"><i class="far fa-clock"></i></span>
<span>1 min.</span></p><div class=content>TL ; DR Pour éviter que m’importe qui puisse envoyer des résultats d’analyse sur votre serveur SonarQube, nous allons créer un compte de service et forcer l’authentification.
Création du compte de service Pour cela rendez-vous dans administration, sécurité, utilisateurs et ajoutez un compte.
Provisionnement du compte de service Pour le référencer dans VSTS, rendez-vous sur votre projet d’équipe, cliquez sur paramètres (la roue crantée), Services, nouveau service générique et entrez url, nom d’usager et mot de passe du compte de service.</div></div></article><article class=media><div class=media-content><p class="title is-4"><a href=https://baywet.github.io/fr/determinez-votre-dette-techniq-2016-11-18-14-00-00/>Déterminez votre dette technique à l’aide de SonarQube : 9 - Configuration d’Azure Active directory pour l’authentification</a></p><p class="subtitle is-6 mb-2"><span class="icon is-small"><i class="far fa-calendar-alt"></i></span>
<span class=mr-2>Nov 18, 2016</span>
<span class="icon is-small"><i class="far fa-clock"></i></span>
<span>1 min.</span></p><div class=content>TL ; DR Nous allons installer et configurer un module complémentaire pour déléguer l’authentification à Azure Active Directory. Cela permettra à nos développeurs d’utiliser le même compte entre Visual Studio Team Services et SonarQube.
Configuration du module d’authentification Depuis la version 5.4 SonarQube dispose d&rsquo;un plugin supplémentaire pour configurer l&rsquo;authentification avec AAD en se reposant sur OAuth. Cela va vous permettre d&rsquo;utiliser vos comptes d&rsquo;entreprise pour authentifier les collaborateurs et leur donner des permissions.</div></div></article><article class=media><div class=media-content><p class="title is-4"><a href=https://baywet.github.io/fr/determinez-votre-dette-techniq-2016-11-16-14-00-00/>Déterminez votre dette technique à l’aide de SonarQube : 8 - Ajout de modules</a></p><p class="subtitle is-6 mb-2"><span class="icon is-small"><i class="far fa-calendar-alt"></i></span>
<span class=mr-2>Nov 16, 2016</span>
<span class="icon is-small"><i class="far fa-clock"></i></span>
<span>1 min.</span></p><div class=content>TL ; DR L’analyse statique fonctionne à l’aide de règles. Ces règles sont regroupées par langages ou familles de langages dans des modules que vous pouvez installer. Outre l’apport du support de langages de développements ces modules peuvent étendre les fonctionnalités natives de SonarQube.
La plupart sont gratuits et libres, certains sont soumis à des licences commerciales.
Installation des modules complémentaires Rendez-vous dans configuration, système, et recherchez puis installez les modules qui vous intéressent.</div></div></article><article class=media><div class=media-content><p class="title is-4"><a href=https://baywet.github.io/fr/determinez-votre-dette-techniq-2016-11-14-14-00-00/>Déterminez votre dette technique à l’aide de SonarQube : 7 - Installation de la machine</a></p><p class="subtitle is-6 mb-2"><span class="icon is-small"><i class="far fa-calendar-alt"></i></span>
<span class=mr-2>Nov 14, 2016</span>
<span class="icon is-small"><i class="far fa-clock"></i></span>
<span>1 min.</span></p><div class=content>TL ; DR Nous allons mettre la machine à jour, installer docker dessus, provisionner les conteneurs dont nous avons besoin.
Installation de docker et mises à jour Connectez-vous en ssh sur la machine (Putty est un très bon client pour windows) et exécutez les commandes suivantes :
https://github.com/baywet/azure-docker-sonarqube#step-4-setup-docker
Mise en place des conteneurs, création des certifcats Les conteneurs sont les composants de notre installation qui vont effectuer le travail de gérer le trafic web et fournir le service de SonarQube.</div></div></article><article class=media><div class=media-content><p class="title is-4"><a href=https://baywet.github.io/fr/determinez-votre-dette-techniq-2016-11-11-14-00-00/>Déterminez votre dette technique à l’aide de SonarQube : 6 - Création de la base de données</a></p><p class="subtitle is-6 mb-2"><span class="icon is-small"><i class="far fa-calendar-alt"></i></span>
<span class=mr-2>Nov 11, 2016</span>
<span class="icon is-small"><i class="far fa-clock"></i></span>
<span>1 min.</span></p><div class=content>TL ; DR Création d’une db sql azure avec la collation SQL_Latin1_General_CP1_CS_AS.
Détails de la création de la base Les étapes de création de base de données SQL Azure sont déjà bien décrites, point de détail important : utiliser la collation suivante : SQL_Latin1_General_CP1_CS_AS. (et utiliser un modèle vide)
https://github.com/baywet/azure-docker-sonarqube#step-3-create-the-azure-sql-database
Notez les accès à la base de données (FQDN du serveur, nom utilisateur, mot de passe, nom de la base) quelque part, nous en aurons besoin plus tard.</div></div></article><article class=media><div class=media-content><p class="title is-4"><a href=https://baywet.github.io/fr/determinez-votre-dette-techniq-2016-11-09-14-00-00/>Déterminez votre dette technique à l’aide de SonarQube : 5 - Ouverture du port de SonarQube</a></p><p class="subtitle is-6 mb-2"><span class="icon is-small"><i class="far fa-calendar-alt"></i></span>
<span class=mr-2>Nov 9, 2016</span>
<span class="icon is-small"><i class="far fa-clock"></i></span>
<span>1 min.</span></p><div class=content>TL ; DR Ouvrez les ports 22, 9000, 80 et 443 en entrant sur la VM.
Détail de l’ouverture des ports Plutôt que de répéter ce qui est déjà documenté, je préfère vous fournir le lien directement
https://github.com/baywet/azure-docker-sonarqube#step-2-opening-firewall-ports
Il faut ouvrir les ports 22, 80, 443 et 9000 qui vont nous permettre respectivement de communiquer avec la machine, y accéder en http et https, et accéder à la console de gestion.</div></div></article><article class=media><div class=media-content><p class="title is-4"><a href=https://baywet.github.io/fr/determinez-votre-dette-techniq-2016-11-07-14-00-00/>Déterminez votre dette technique à l’aide de SonarQube : 4 - Provisionnement de la VM SonarQube</a></p><p class="subtitle is-6 mb-2"><span class="icon is-small"><i class="far fa-calendar-alt"></i></span>
<span class=mr-2>Nov 7, 2016</span>
<span class="icon is-small"><i class="far fa-clock"></i></span>
<span>1 min.</span></p><div class=content>TL ; DR Provisionnez un ubuntu server dans Azure, installez Putty et WinSCP sur votre machine locale
Détail du provisionnement Voici un lien vers une documentation pour vous expliquer comment faire
https://github.com/baywet/azure-docker-sonarqube#step-1-create-the-virtual-machine-in-azure
Voilà ! la machine est en cours de provisionnement !
Pendant ce temps profitez-en pour télécharger un terminal SSH si vous n’en avez pas déjà un, je vous recommande https://www.putty.org/</div></div></article></div><br><br><br><nav class=pagination role=pagination aria-label=pagination><a href=/fr/page/4/ class=pagination-previous><span class="icon is-small"><i class="fas fa-chevron-left"></i></span>
</a><a href=/fr/page/6/ class=pagination-next><span class="icon is-small"><i class="fas fa-chevron-right"></i></span></a><ul class=pagination-list><li><a href=/fr/ class=pagination-link>1</a></li><li><span class=pagination-ellipsis>&mldr;</span></li><li><a href=/fr/page/4/ class=pagination-link>4</a></li><li><a href=/fr/page/5/ class="pagination-link is-current">5</a></li><li><a href=/fr/page/6/ class=pagination-link>6</a></li><li><span class=pagination-ellipsis>&mldr;</span></li><li><a href=/fr/page/23/ class=pagination-link>23</a></li></ul></nav></div><div class="column is-narrow"><aside class=menu><p class=menu-label>Tags</p><ul class=menu-list><li><a href=https://baywet.github.io/fr/tags/sharepoint/><div class="tags has-addons"><span class=tag>Sharepoint</span>
<span class="tag is-link">139</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/azure/><div class="tags has-addons"><span class=tag>Azure</span>
<span class="tag is-link">35</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/2013/><div class="tags has-addons"><span class=tag>2013</span>
<span class="tag is-link">34</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/alm/><div class="tags has-addons"><span class=tag>Alm</span>
<span class="tag is-link">28</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/devops/><div class="tags has-addons"><span class=tag>Devops</span>
<span class="tag is-link">25</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/vsts/><div class="tags has-addons"><span class=tag>Vsts</span>
<span class="tag is-link">23</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/office365/><div class="tags has-addons"><span class=tag>Office365</span>
<span class="tag is-link">22</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/microsoft/><div class="tags has-addons"><span class=tag>Microsoft</span>
<span class="tag is-link">22</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/visual-studio/><div class="tags has-addons"><span class=tag>Visual Studio</span>
<span class="tag is-link">20</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/dev/><div class="tags has-addons"><span class=tag>Dev</span>
<span class="tag is-link">19</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/sonarqube/><div class="tags has-addons"><span class=tag>Sonarqube</span>
<span class="tag is-link">18</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/2010/><div class="tags has-addons"><span class=tag>2010</span>
<span class="tag is-link">18</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/code/><div class="tags has-addons"><span class=tag>Code</span>
<span class="tag is-link">17</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/analyse-statique/><div class="tags has-addons"><span class=tag>Analyse Statique</span>
<span class="tag is-link">17</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/mise-%C3%A0-jour/><div class="tags has-addons"><span class=tag>Mise À Jour</span>
<span class="tag is-link">15</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/linux/><div class="tags has-addons"><span class=tag>Linux</span>
<span class="tag is-link">15</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/evenement/><div class="tags has-addons"><span class=tag>Evenement</span>
<span class="tag is-link">15</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/docker/><div class="tags has-addons"><span class=tag>Docker</span>
<span class="tag is-link">15</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/session/><div class="tags has-addons"><span class=tag>Session</span>
<span class="tag is-link">14</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/build/><div class="tags has-addons"><span class=tag>Build</span>
<span class="tag is-link">14</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/conf%C3%A9rence/><div class="tags has-addons"><span class=tag>Conférence</span>
<span class="tag is-link">14</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/communaut%C3%A9/><div class="tags has-addons"><span class=tag>Communauté</span>
<span class="tag is-link">12</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/saturday/><div class="tags has-addons"><span class=tag>Saturday</span>
<span class="tag is-link">12</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/conference/><div class="tags has-addons"><span class=tag>Conference</span>
<span class="tag is-link">11</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/microsoft-graph/><div class="tags has-addons"><span class=tag>Microsoft Graph</span>
<span class="tag is-link">11</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/montreal/><div class="tags has-addons"><span class=tag>Montreal</span>
<span class="tag is-link">10</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/sp1/><div class="tags has-addons"><span class=tag>Sp1</span>
<span class="tag is-link">10</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/update/><div class="tags has-addons"><span class=tag>Update</span>
<span class="tag is-link">9</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/laboratoire/><div class="tags has-addons"><span class=tag>Laboratoire</span>
<span class="tag is-link">9</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/developer/><div class="tags has-addons"><span class=tag>Developer</span>
<span class="tag is-link">9</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/mvp/><div class="tags has-addons"><span class=tag>Mvp</span>
<span class="tag is-link">8</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/developpement/><div class="tags has-addons"><span class=tag>Developpement</span>
<span class="tag is-link">8</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/sso/><div class="tags has-addons"><span class=tag>Sso</span>
<span class="tag is-link">8</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/powershell/><div class="tags has-addons"><span class=tag>Powershell</span>
<span class="tag is-link">8</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/2015/><div class="tags has-addons"><span class=tag>2015</span>
<span class="tag is-link">7</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/sharepoint-framework/><div class="tags has-addons"><span class=tag>Sharepoint Framework</span>
<span class="tag is-link">7</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/event/><div class="tags has-addons"><span class=tag>Event</span>
<span class="tag is-link">7</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/msp/><div class="tags has-addons"><span class=tag>Msp</span>
<span class="tag is-link">7</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/introduction/><div class="tags has-addons"><span class=tag>Introduction</span>
<span class="tag is-link">7</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/ssl/><div class="tags has-addons"><span class=tag>Ssl</span>
<span class="tag is-link">7</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/cache/><div class="tags has-addons"><span class=tag>Cache</span>
<span class="tag is-link">6</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/outils/><div class="tags has-addons"><span class=tag>Outils</span>
<span class="tag is-link">6</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/github/><div class="tags has-addons"><span class=tag>Github</span>
<span class="tag is-link">6</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/sharepoint-saturday/><div class="tags has-addons"><span class=tag>Sharepoint Saturday</span>
<span class="tag is-link">6</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/online/><div class="tags has-addons"><span class=tag>Online</span>
<span class="tag is-link">6</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/d%C3%A9ploiement/><div class="tags has-addons"><span class=tag>Déploiement</span>
<span class="tag is-link">5</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/speaker/><div class="tags has-addons"><span class=tag>Speaker</span>
<span class="tag is-link">5</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/service/><div class="tags has-addons"><span class=tag>Service</span>
<span class="tag is-link">5</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/claims/><div class="tags has-addons"><span class=tag>Claims</span>
<span class="tag is-link">5</span></div></a></li><li><a href=https://baywet.github.io/fr/tags/distribu%C3%A9/><div class="tags has-addons"><span class=tag>Distribué</span>
<span class="tag is-link">5</span></div></a></li></ul></aside></div></div></div></section><footer class=footer><div class=container><nav class=level></nav><nav class=level><div class="level-left has-text-centered"><div class=level-item><form class="control has-icons has-icons-right" method=get action=https://bing.com><input class=input type=text name=q maxlength=255 placeholder=Search>
<input class=input type=hidden name=sites value=https://baywet.github.io/>
<span class="icon is-small is-right"><i class="fas fa-search"></i></span></form></div></div><div class="level-right has-text-centered"><div class=level-item><a class=button href=https://baywet.github.io/fr><span class=icon><i class="fa fa-home"></i></span>
</a>&nbsp;
<a class=button href=/fr/index.xml><span class=icon><i class="fas fa-rss"></i></span></a></div></div></nav></div></footer></body></html>